{% extends "govuk/template.njk" %}

{# Import GOVUK components globally #}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/footer/macro.njk" import govukFooter %}

{# Import custom components globally #}
{% from "heading/macro.njk" import appHeading %}

{% set mainClasses = "app-main-wrapper" %}

{% block head %}
  <link href="{{ getAssetPath('stylesheets/application.scss') }}" rel="stylesheet">
{% endblock %}

{% block header %}
<header class="defra-header">
  <div class="defra-header__inner">
    <div class="defra-header__brand-group">
      <a href="/" class="defra-header__logo-link">
        <img
          src="{{ getAssetPath('images/defra-logo.svg') }}"
          alt="Department for Environment, Food &amp; Rural Affairs"
          class="defra-header__logo"
        />
      </a>
      <a href="{{ headerServiceUrl | default('/') }}" class="defra-header__service-name">{{ headerServiceName | default('Digital service manual') }}</a>
    </div>
    {% include "partials/header-search.njk" %}
  </div>
</header>
{% if showMainNavigation %}
{% include "partials/main-navigation.njk" %}
{% elif not hideServiceNavigation %}
{% include "partials/service-navigation.njk" %}
{% endif %}
{% endblock %}

{% block pageTitle %}
  {{ pageTitle or title }} | {{ serviceName }}
{% endblock %}

{% block beforeContent %}
  {% if breadcrumbs and breadcrumbs.length > 1 %}
    {{ govukBreadcrumbs({
      items: breadcrumbs
    }) }}
  {% endif %}
{% endblock %}

{% block content %}{% endblock %}

{% block footer %}
  {% include "partials/footer.njk" %}
{% endblock %}

{% block bodyEnd %}
  <script type="module" src="{{ getAssetPath('application.js') }}"></script>
{% endblock %}
